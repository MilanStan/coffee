function geoFindMe(){return navigator.geolocation?void navigator.geolocation.getCurrentPosition(geoSuccess,geoError):void intro.append("<p>Geolocation is not supported by your browser</p>")}function geoSuccess(t){var e=t.coords.latitude,n=t.coords.longitude;loadCoffees(buildUrl(e,n)),introTransform()}function geoError(t){switch(t.code){case t.PERMISSION_DENIED:intro.innerHTML='<p style="margin-top:0">You denied the request for Geolocation.<br>You must accept the request for geolocation in order to app work.</p><button id="reload" class="button input-lg">Reload</button>',$("#reload").on("click",function(){location.reload()});break;case t.POSITION_UNAVAILABLE:intro.innerHTML="<p>Location information is unavailable.</p>";break;case t.TIMEOUT:intro.innerHTML="<p>The request to get user location timed out.</p>";break;case t.UNKNOWN_ERROR:intro.innerHTML="<p>An unknown error occurred.</p>"}}function buildUrl(t,e){var n="https://api.foursquare.com/v2/venues/explore?",i="NUWCSVP35BFQ2EGF4SNTU2PCMW23H3OJN1W21P3JXLQO0K1H",o="4IA23BBFIS1W5GDJAVSHEJPTY3KLTAX0CJQTRCGDJDUJ3X15",r="client_id="+i+"&client_secret="+o,s="section=coffee",a="ll="+t+","+e,c="radius=1000",l="v=20170629",u="venuePhotos=1",h="openNow=1",p="sortByDistance=1",f="limit=10",d=n+"&"+a+"&"+c+"&"+s+"&"+u+"&"+h+"&"+p+"&&"+f+"&"+r+"&"+l;return console.log("Url adresa je: "+d),d}function loadCoffees(t){$.ajax({url:t,type:"get",success:function(t){data=t,caffees=t.response.groups[0].items,caffees.length>0?printData(caffees):(output.innerHTML='<p class="no-coffees">There aren\'t coffees nearby!</p>',$("#sort-criteria").attr("disabled","disabled"))},failure:function(){alert("Something is wrong!")},error:function(t){alert("Something is wrong with data connection!")}})}function printData(t){dataObj={items:t},console.log(dataObj);var e=$("#item-container").html();console.log("template: "+e);var n=Mustache.to_html(e,dataObj);console.log(output),console.log("htmlcontent: "+n),output.innerHTML=n,imageLoadingAnimation(),coffeeItemsDivs=$(".item-wrapper"),coffeeItemsDivs.addClass("invisible")}function sortCoffees(t){var e;if("Distance"==t)caffees.sort(function(t,e){return t.venue.location.distance>e.venue.location.distance?1:e.venue.location.distance>t.venue.location.distance?-1:0}),e=caffees;else if("Price"==t){for(var n=caffees.slice(0),i=[],o=0;o<n.length;o++)if(void 0==n[o].venue.price){var r=n.splice(o,1);i.push(r[0])}n.sort(function(t,e){return t.venue.price.tier>e.venue.price.tier?1:e.venue.price.tier>t.venue.price.tier?-1:0}),e=n.concat(i)}console.log("array with price: "+n),printData(e)}function introTransform(){$("#intro h1").css("font-size","24px"),$("#intro h2").css("display","none"),$("#intro p").css("display","none"),$("#intro").css({top:"0",transform:"translateY(0)"}),$("header").css({height:"66px",padding:"20px 0"}),$("#background-hover").css("background-color","rgb(72,28,22)"),$("header h1").css("margin-bottom","0px"),$("#cup1").css("display","none"),$("#cup2").css("display","none"),$(".main-content-wrapper").css("display","block")}function imageLoadingAnimation(){$(".image-container img").css("visibility","hidden"),$(".image-container img").on("load",function(){$(this).css("visibility","visible"),setTimeout(function(){Waypoint.refreshAll(),animateRevealing()},300)}),$(".featherlight-content img").css("visibility","hidden"),$(".featherlight-content img").on("load",function(){$(this).css("visibility","visible")})}function animateRevealing(){for(i=0;i<coffeeItemsDivs.length;i++)new Waypoint({element:coffeeItemsDivs[i],handler:function(t){$(this.element).removeClass("invisible")},offset:"90%"})}!function(t){"use strict";function e(t,n){if(!(this instanceof e)){var i=new e(t,n);return i.open(),i}this.id=e.id++,this.setup(t,n),this.chainCallbacks(e._callbackChain)}function n(t,e){var n={};for(var i in t)i in e&&(n[i]=t[i],delete t[i]);return n}function i(t,e){var n={},i=new RegExp("^"+e+"([A-Z])(.*)");for(var o in t){var r=o.match(i);if(r){var s=(r[1]+r[2].replace(/([A-Z])/g,"-$1")).toLowerCase();n[s]=t[o]}}return n}if("undefined"==typeof t)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var o=[],r=function(e){return o=t.grep(o,function(t){return t!==e&&t.$instance.closest("body").length>0})},s={allowfullscreen:1,frameborder:1,height:1,longdesc:1,marginheight:1,marginwidth:1,name:1,referrerpolicy:1,scrolling:1,sandbox:1,src:1,srcdoc:1,width:1},a={keyup:"onKeyUp",resize:"onResize"},c=function(n){t.each(e.opened().reverse(),function(){if(!n.isDefaultPrevented()&&!1===this[a[n.type]](n))return n.preventDefault(),n.stopPropagation(),!1})},l=function(n){if(n!==e._globalHandlerInstalled){e._globalHandlerInstalled=n;var i=t.map(a,function(t,n){return n+"."+e.prototype.namespace}).join(" ");t(window)[n?"on":"off"](i,c)}};e.prototype={constructor:e,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:t.noop,beforeContent:t.noop,beforeClose:t.noop,afterOpen:t.noop,afterContent:t.noop,afterClose:t.noop,onKeyUp:t.noop,onResize:t.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(e,n){"object"!=typeof e||e instanceof t!=!1||n||(n=e,e=void 0);var i=t.extend(this,n,{target:e}),o=i.resetCss?i.namespace+"-reset":i.namespace,r=t(i.background||['<div class="'+o+"-loading "+o+'">','<div class="'+o+'-content">','<button class="'+o+"-close-icon "+i.namespace+'-close" aria-label="Close">',i.closeIcon,"</button>",'<div class="'+i.namespace+'-inner">'+i.loading+"</div>","</div>","</div>"].join("")),s="."+i.namespace+"-close"+(i.otherClose?","+i.otherClose:"");return i.$instance=r.clone().addClass(i.variant),i.$instance.on(i.closeTrigger+"."+i.namespace,function(e){var n=t(e.target);("background"===i.closeOnClick&&n.is("."+i.namespace)||"anywhere"===i.closeOnClick||n.closest(s).length)&&(i.close(e),e.preventDefault())}),this},getContent:function(){if(this.persist!==!1&&this.$content)return this.$content;var e=this,n=this.constructor.contentFilters,i=function(t){return e.$currentTarget&&e.$currentTarget.attr(t)},o=i(e.targetAttr),r=e.target||o||"",s=n[e.type];if(!s&&r in n&&(s=n[r],r=e.target&&o),r=r||i("href")||"",!s)for(var a in n)e[a]&&(s=n[a],r=e[a]);if(!s){var c=r;if(r=null,t.each(e.contentFilters,function(){return s=n[this],s.test&&(r=s.test(c)),!r&&s.regex&&c.match&&c.match(s.regex)&&(r=c),!r}),!r)return"console"in window&&window.console.error("Featherlight: no content filter found "+(c?' for "'+c+'"':" (no target specified)")),!1}return s.process.call(e,r)},setContent:function(e){var n=this;return e.is("iframe")&&n.$instance.addClass(n.namespace+"-iframe"),n.$instance.removeClass(n.namespace+"-loading"),n.$instance.find("."+n.namespace+"-inner").not(e).slice(1).remove().end().replaceWith(t.contains(n.$instance[0],e[0])?"":e),n.$content=e.addClass(n.namespace+"-inner"),n},open:function(e){var n=this;if(n.$instance.hide().appendTo(n.root),!(e&&e.isDefaultPrevented()||n.beforeOpen(e)===!1)){e&&e.preventDefault();var i=n.getContent();if(i)return o.push(n),l(!0),n.$instance.fadeIn(n.openSpeed),n.beforeContent(e),t.when(i).always(function(t){n.setContent(t),n.afterContent(e)}).then(n.$instance.promise()).done(function(){n.afterOpen(e)})}return n.$instance.detach(),t.Deferred().reject().promise()},close:function(e){var n=this,i=t.Deferred();return n.beforeClose(e)===!1?i.reject():(0===r(n).length&&l(!1),n.$instance.fadeOut(n.closeSpeed,function(){n.$instance.detach(),n.afterClose(e),i.resolve()})),i.promise()},resize:function(t,e){if(t&&e){this.$content.css("width","").css("height","");var n=Math.max(t/(parseInt(this.$content.parent().css("width"),10)-1),e/(parseInt(this.$content.parent().css("height"),10)-1));n>1&&(n=e/Math.floor(e/n),this.$content.css("width",""+t/n+"px").css("height",""+e/n+"px"))}},chainCallbacks:function(e){for(var n in e)this[n]=t.proxy(e[n],this,t.proxy(this[n],this))}},t.extend(e,{id:0,autoBind:"[data-featherlight]",defaults:e.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(e){return e instanceof t&&e},process:function(e){return this.persist!==!1?t(e):t(e).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(e){var n=this,i=t.Deferred(),o=new Image,r=t('<img src="'+e+'" alt="" class="'+n.namespace+'-image" />');return o.onload=function(){r.naturalWidth=o.width,r.naturalHeight=o.height,i.resolve(r)},o.onerror=function(){i.reject(r)},o.src=e,i.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(e){return t(e)}},ajax:{regex:/./,process:function(e){var n=t.Deferred(),i=t("<div></div>").load(e,function(t,e){"error"!==e&&n.resolve(i.contents()),n.fail()});return n.promise()}},iframe:{process:function(e){var o=new t.Deferred,r=t("<iframe/>"),a=i(this,"iframe"),c=n(a,s);return r.hide().attr("src",e).attr(c).css(a).on("load",function(){o.resolve(r.show())}).appendTo(this.$instance.find("."+this.namespace+"-content")),o.promise()}},text:{process:function(e){return t("<div>",{text:e})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(e,n){var i=this,o=new RegExp("^data-"+n+"-(.*)"),r={};return e&&e.attributes&&t.each(e.attributes,function(){var e=this.name.match(o);if(e){var n=this.value,s=t.camelCase(e[1]);if(t.inArray(s,i.functionAttributes)>=0)n=new Function(n);else try{n=JSON.parse(n)}catch(a){}r[s]=n}}),r},extend:function(e,n){var i=function(){this.constructor=e};return i.prototype=this.prototype,e.prototype=new i,e.__super__=this.prototype,t.extend(e,this,n),e.defaults=e.prototype,e},attach:function(e,n,i){var o=this;"object"!=typeof n||n instanceof t!=!1||i||(i=n,n=void 0),i=t.extend({},i);var r,s=i.namespace||o.defaults.namespace,a=t.extend({},o.defaults,o.readElementConfig(e[0],s),i),c=function(s){var c=t.extend({$source:e,$currentTarget:t(this)},o.readElementConfig(e[0],a.namespace),o.readElementConfig(this,a.namespace),i),l=r||t(this).data("featherlight-persisted")||new o(n,c);"shared"===l.persist?r=l:l.persist!==!1&&t(this).data("featherlight-persisted",l),c.$currentTarget.blur(),l.open(s)};return e.on(a.openTrigger+"."+a.namespace,a.filter,c),c},current:function(){var t=this.opened();return t[t.length-1]||null},opened:function(){var e=this;return r(),t.grep(o,function(t){return t instanceof e})},close:function(t){var e=this.current();if(e)return e.close(t)},_onReady:function(){var e=this;e.autoBind&&(t(e.autoBind).each(function(){e.attach(t(this))}),t(document).on("click",e.autoBind,function(n){if(!n.isDefaultPrevented()){var i=e.attach(t(n.currentTarget));i(n)}}))},_callbackChain:{onKeyUp:function(e,n){return 27===n.keyCode?(this.closeOnEsc&&t.featherlight.close(n),!1):e(n)},beforeOpen:function(e,n){return this._previouslyActive=document.activeElement,this._$previouslyTabbable=t("a, input, select, textarea, iframe, button, iframe, [contentEditable=true]").not("[tabindex]").not(this.$instance.find("button")),this._$previouslyWithTabIndex=t("[tabindex]").not('[tabindex="-1"]'),this._previousWithTabIndices=this._$previouslyWithTabIndex.map(function(e,n){return t(n).attr("tabindex")}),this._$previouslyWithTabIndex.add(this._$previouslyTabbable).attr("tabindex",-1),document.activeElement.blur(),e(n)},afterClose:function(e,n){var i=e(n),o=this;return this._$previouslyTabbable.removeAttr("tabindex"),this._$previouslyWithTabIndex.each(function(e,n){t(n).attr("tabindex",o._previousWithTabIndices[e])}),this._previouslyActive.focus(),i},onResize:function(t,e){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),t(e)},afterContent:function(t,e){var n=t(e);return this.$instance.find("[autofocus]:not([disabled])").focus(),this.onResize(e),n}}}),t.featherlight=e,t.fn.featherlight=function(t,n){return e.attach(this,t,n),this},t(document).ready(function(){e._onReady()})}(jQuery),function(t,e){if("object"==typeof exports&&exports)e(exports);else{var n={};e(n),"function"==typeof define&&define.amd?define(n):t.Mustache=n}}(this,function(t){function e(t,e){return m.call(t,e)}function n(t){return!e(g,t)}function i(t){return"function"==typeof t}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t){return String(t).replace(/[&<>"'\/]/g,function(t){return C[t]})}function s(t){if(!x(t)||2!==t.length)throw new Error("Invalid tags: "+t);return[new RegExp(o(t[0])+"\\s*"),new RegExp("\\s*"+o(t[1]))]}function a(e,i){function r(){if(A&&!S)for(;T.length;)delete k[T.pop()];else T=[];A=!1,S=!1}i=i||t.tags,e=e||"","string"==typeof i&&(i=i.split(d));for(var a,h,p,g,m,b,x=s(i),C=new u(e),$=[],k=[],T=[],A=!1,S=!1;!C.eos();){if(a=C.pos,p=C.scanUntil(x[0]))for(var E=0,O=p.length;E<O;++E)g=p.charAt(E),n(g)?T.push(k.length):S=!0,k.push(["text",g,a,a+1]),a+=1,"\n"===g&&r();if(!C.scan(x[0]))break;if(A=!0,h=C.scan(y)||"name",C.scan(f),"="===h?(p=C.scanUntil(v),C.scan(v),C.scanUntil(x[1])):"{"===h?(p=C.scanUntil(new RegExp("\\s*"+o("}"+i[1]))),C.scan(w),C.scanUntil(x[1]),h="&"):p=C.scanUntil(x[1]),!C.scan(x[1]))throw new Error("Unclosed tag at "+C.pos);if(m=[h,p,a,C.pos],k.push(m),"#"===h||"^"===h)$.push(m);else if("/"===h){if(b=$.pop(),!b)throw new Error('Unopened section "'+p+'" at '+a);if(b[1]!==p)throw new Error('Unclosed section "'+b[1]+'" at '+a)}else"name"===h||"{"===h||"&"===h?S=!0:"="===h&&(x=s(i=p.split(d)))}if(b=$.pop())throw new Error('Unclosed section "'+b[1]+'" at '+C.pos);return l(c(k))}function c(t){for(var e,n,i=[],o=0,r=t.length;o<r;++o)e=t[o],e&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}function l(t){for(var e,n,i=[],o=i,r=[],s=0,a=t.length;s<a;++s)switch(e=t[s],e[0]){case"#":case"^":o.push(e),r.push(e),o=e[4]=[];break;case"/":n=r.pop(),n[5]=e[2],o=r.length>0?r[r.length-1][4]:i;break;default:o.push(e)}return i}function u(t){this.string=t,this.tail=t,this.pos=0}function h(t,e){this.view=null==t?{}:t,this.cache={".":this.view},this.parent=e}function p(){this.cache={}}var f=/\s*/,d=/\s+/,g=/\S/,v=/\s*=/,w=/\s*\}/,y=/#|\^|\/|>|\{|&|=|!/,m=RegExp.prototype.test,b=Object.prototype.toString,x=Array.isArray||function(t){return"[object Array]"===b.call(t)},C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(t){var e=this.tail.match(t);if(e&&0===e.index){var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n}return""},u.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},h.prototype.push=function(t){return new h(t,this)},h.prototype.lookup=function(t){var e;if(t in this.cache)e=this.cache[t];else{for(var n=this;n;){if(t.indexOf(".")>0){e=n.view;for(var o=t.split("."),r=0;null!=e&&r<o.length;)e=e[o[r++]]}else e=n.view[t];if(null!=e)break;n=n.parent}this.cache[t]=e}return i(e)&&(e=e.call(this.view)),e},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(t,e){var n=this.cache,i=n[t];return null==i&&(i=n[t]=a(t,e)),i},p.prototype.render=function(t,e,n){var i=this.parse(t),o=e instanceof h?e:new h(e);return this.renderTokens(i,o,n,t)},p.prototype.renderTokens=function(e,n,o,r){function s(t){return u.render(t,n,o)}for(var a,c,l="",u=this,h=0,p=e.length;h<p;++h)switch(a=e[h],a[0]){case"#":if(c=n.lookup(a[1]),!c)continue;if(x(c))for(var f=0,d=c.length;f<d;++f)l+=this.renderTokens(a[4],n.push(c[f]),o,r);else if("object"==typeof c||"string"==typeof c)l+=this.renderTokens(a[4],n.push(c),o,r);else if(i(c)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");c=c.call(n.view,r.slice(a[3],a[5]),s),null!=c&&(l+=c)}else l+=this.renderTokens(a[4],n,o,r);break;case"^":c=n.lookup(a[1]),(!c||x(c)&&0===c.length)&&(l+=this.renderTokens(a[4],n,o,r));break;case">":if(!o)continue;c=i(o)?o(a[1]):o[a[1]],null!=c&&(l+=this.renderTokens(this.parse(c),n,o,c));break;case"&":c=n.lookup(a[1]),null!=c&&(l+=c);break;case"name":c=n.lookup(a[1]),null!=c&&(l+=t.escape(c));break;case"text":l+=a[1]}return l},t.name="mustache.js",t.version="0.8.1",t.tags=["{{","}}"];var $=new p;t.clearCache=function(){return $.clearCache()},t.parse=function(t,e){return $.parse(t,e)},t.render=function(t,e,n){return $.render(t,e,n)},t.to_html=function(e,n,o,r){var s=t.render(e,n,o);return i(r)?void r(s):s},t.escape=r,t.Scanner=u,t.Context=h,t.Writer=p}),!function(){"use strict";function t(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,i),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,e+=1}var e=0,n={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var i in n)e.push(n[i]);for(var o=0,r=e.length;r>o;o++)e[o][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.Context.refreshAll();for(var e in n)n[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,i[t.waypointContextKey]=this,n+=1,o.windowContext||(o.windowContext=!0,o.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,i={},o=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),n=this.element==this.element.window;t&&e&&!n&&(this.adapter.off(".waypoints"),delete i[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,o.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,o.requestAnimationFrame(t))})},e.prototype.handleResize=function(){o.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var i=e[n],o=i.newScroll>i.oldScroll,r=o?i.forward:i.backward;for(var s in this.waypoints[n]){var a=this.waypoints[n][s];if(null!==a.triggerPoint){var c=i.oldScroll<a.triggerPoint,l=i.newScroll>=a.triggerPoint,u=c&&l,h=!c&&!l;(u||h)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}}for(var p in t)t[p].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,o=t.length;o>i;i++)t[i].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,n=e?void 0:this.adapter.offset(),i={};this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var c,l,u,h,p,f=this.waypoints[r][a],d=f.options.offset,g=f.triggerPoint,v=0,w=null==g;f.element!==f.element.window&&(v=f.adapter.offset()[s.offsetProp]),"function"==typeof d?d=d.apply(f):"string"==typeof d&&(d=parseFloat(d),f.options.offset.indexOf("%")>-1&&(d=Math.ceil(s.contextDimension*d/100))),c=s.contextScroll-s.contextOffset,f.triggerPoint=Math.floor(v+c-d),l=g<s.oldScroll,u=f.triggerPoint>=s.oldScroll,h=l&&u,p=!l&&!u,!w&&h?(f.queueTrigger(s.backward),i[f.group.id]=f.group):!w&&p?(f.queueTrigger(s.forward),i[f.group.id]=f.group):w&&s.oldScroll>=f.triggerPoint&&(f.queueTrigger(s.forward),i[f.group.id]=f.group)}}return o.requestAnimationFrame(function(){for(var t in i)i[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in i)i[t].refresh()},e.findByElement=function(t){return i[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},o.requestAnimationFrame=function(e){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;n.call(window,e)},o.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function n(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},o=window.Waypoint;n.prototype.add=function(t){this.waypoints.push(t)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],o="up"===n||"left"===n;i.sort(o?e:t);for(var r=0,s=i.length;s>r;r+=1){var a=i[r];(a.options.continuous||r===i.length-1)&&a.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(e){this.waypoints.sort(t);var n=o.Adapter.inArray(e,this.waypoints),i=n===this.waypoints.length-1;return i?null:this.waypoints[n+1]},n.prototype.previous=function(e){this.waypoints.sort(t);var n=o.Adapter.inArray(e,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},n.prototype.remove=function(t){var e=o.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(t){return i[t.axis][t.name]||new n(t)},o.Group=n}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,n=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,n){t.prototype[n]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[n].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(n,i){t[i]=e[i]}),n.adapters.push({name:"jquery",Adapter:t}),n.Adapter=t}(),function(){"use strict";function t(t){return function(){var n=[],i=arguments[0];return t.isFunction(arguments[0])&&(i=t.extend({},arguments[1]),i.handler=arguments[0]),this.each(function(){var o=t.extend({},i,{element:this});"string"==typeof o.context&&(o.context=t(this).closest(o.context)[0]),n.push(new e(o))}),n}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();var caffees,intro=document.getElementById("intro"),output=document.getElementById("content-wrapper"),coffeeItemsDivs;$(document).ready(function(){geoFindMe(),$(window).width()>768&&($("#cup1").addClass("cup1-animation"),$("#cup2").addClass("cup2-animation"),$("#intro").addClass("intro-animation"))}),$("#sort-criteria").change(function(){console.log("Promenjeno je u "+$(this).val());var t=$(this).val();sortCoffees(t)});